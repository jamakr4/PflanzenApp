import './polyfills.server.mjs';
import{A as O,B as v,D as $,E as A,H as q,J as R,L as Y,N,O as J,P as Q,S as X,W as ee,Z as te,a as W,b as S,c as L,d as c,e as V,f as M,g as T,h as P,i as h,j as g,k as l,l as _,m as B,n as y,o as K,p as I,q as Z,r as D,s as m,t as H,u as z,v as k,w as G,x as u,y as E,z as d}from"./chunk-6QL7LB6C.mjs";import{a as U}from"./chunk-NDYDZJSS.mjs";var re=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["app-shopheader"]],standalone:!0,features:[v],decls:12,vars:0,consts:[[1,"container"],[1,"search-form"],["type","text","placeholder","Search"],["type","submit"],["routerLink","/cartPage"]],template:function(n,o){n&1&&(u(0,"header")(1,"div",0)(2,"form",1),d(3,"input",2),u(4,"button",3),O(5,"Search"),E()(),u(6,"ul")(7,"li"),d(8,"a",4),O(9," Cart "),u(10,"span"),O(11,"3"),E()()()()())},styles:["header[_ngcontent-%COMP%]{position:relative;background:gray;padding:0;border-radius:5px}a[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]:hover{background:#00f;color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:space-between}ul[_ngcontent-%COMP%]{display:flex;list-style-type:none;margin:0}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1rem;display:inline-block}"]});let r=e;return r})();var ne=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["app-shoplandingpage"]],standalone:!0,features:[v],decls:2,vars:0,template:function(n,o){n&1&&(u(0,"header"),d(1,"app-shopheader"),E())},dependencies:[re]});let r=e;return r})();var ie=(()=>{let e=class e{constructor(){this.title="PflanzenApp"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["app-root"]],standalone:!0,features:[v],decls:2,vars:0,template:function(n,o){n&1&&d(0,"app-shoplandingpage")(1,"router-outlet")},dependencies:[ee,ne]});let r=e;return r})();var oe=[];var C="Service workers are disabled or not supported by this browser";function ue(r){return M(()=>L(new Error(r)))}var b=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=ue(C);else{let t=T(e,"controllerchange").pipe(c(()=>e.controller)),n=M(()=>S(e.controller)),o=V(n,t);this.worker=o.pipe(g(f=>!!f)),this.registration=this.worker.pipe(y(()=>e.getRegistration()));let j=T(e,"message").pipe(c(f=>f.data)).pipe(g(f=>f&&f.type)).pipe(B());j.connect(),this.events=j}}postMessage(e,i){return this.worker.pipe(l(1),K(t=>{t.postMessage(U({action:e},i))})).toPromise().then(()=>{})}postMessageWithOperation(e,i,t){let n=this.waitForOperationCompleted(t),o=this.postMessage(e,i);return Promise.all([o,n]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let i;return typeof e=="string"?i=t=>t.type===e:i=t=>e.includes(t.type),this.events.pipe(g(i))}nextEventOfType(e){return this.eventsOfType(e).pipe(l(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(g(i=>i.nonce===e),l(1),c(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},de=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new W,!t.isEnabled){this.messages=h,this.notificationClicks=h,this.subscription=h;return}this.messages=this.sw.eventsOfType("PUSH").pipe(c(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(c(o=>o.data)),this.pushManager=this.sw.registration.pipe(c(o=>o.pushManager));let n=this.pushManager.pipe(y(o=>o.getSubscription()));this.subscription=P(n,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(C));let n={userVisibleOnly:!0},o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return n.applicationServerKey=a,this.pushManager.pipe(y(s=>s.subscribe(n)),l(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(l(1),y(t)).toPromise()}decodeBase64(t){return atob(t)}};e.\u0275fac=function(n){return new(n||e)(D(b))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let r=e;return r})(),fe=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=h,this.unrecoverable=h;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};e.\u0275fac=function(n){return new(n||e)(D(b))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let r=e;return r})();var se=new Z("");function he(r,e,i,t){return()=>{if(!(N(t)&&"serviceWorker"in navigator&&i.enabled!==!1))return;let n=r.get(G),o=r.get(A);n.runOutsideAngular(()=>{let s=navigator.serviceWorker,p=()=>s.controller?.postMessage({action:"INITIALIZE"});s.addEventListener("controllerchange",p),o.onDestroy(()=>{s.removeEventListener("controllerchange",p)})});let a;if(typeof i.registrationStrategy=="function")a=i.registrationStrategy();else{let[s,...p]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":a=S(null);break;case"registerWithDelay":a=ae(+p[0]||0);break;case"registerWhenStable":a=p[0]?P(pe(r),ae(+p[0])):pe(r);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}n.runOutsideAngular(()=>a.pipe(l(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:i.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function ae(r){return S(null).pipe(_(r))}function pe(r){return r.get(A).isStable.pipe(g(i=>i))}function ge(r,e){return new b(N(e)&&r.enabled!==!1?navigator.serviceWorker:void 0)}var w=class{};function F(r,e={}){return H([de,fe,{provide:se,useValue:r},{provide:w,useValue:e},{provide:b,useFactory:ge,deps:[w,k]},{provide:$,useFactory:he,deps:[z,se,w,k],multi:!0}])}var ce={providers:[q({eventCoalescing:!0}),te(oe),Q(),F("ngsw-worker.js",{enabled:!R(),registrationStrategy:"registerWhenStable:30000"}),F("ngsw-worker.js",{enabled:!R(),registrationStrategy:"registerWhenStable:30000"})]};var me={providers:[X()]},le=Y(ce,me);var ve=()=>J(ie,le),$e=ve;export{$e as a};
